(this.webpackJsonpdish=this.webpackJsonpdish||[]).push([[0],{10:function(e,t,a){e.exports={wrapNavbar:"Navbar_wrapNavbar__30eOl",wrapLinkBtn:"Navbar_wrapLinkBtn__3GrqK",navbarLink:"Navbar_navbarLink__2ZhVP",navbarBtn:"Navbar_navbarBtn__2CUG3"}},12:function(e,t,a){e.exports={backdrop:"Modal_backdrop__3FAPo",wrapModal:"Modal_wrapModal__1cCFU",modal:"Modal_modal__P3_V5",title:"Modal_title__kbqpq",wrapInput:"Modal_wrapInput__1yDtk",inputDishTitle:"Modal_inputDishTitle__3itdo",inputDescription:"Modal_inputDescription__TMZGy",addBtn:"Modal_addBtn__1cxb3"}},14:function(e){e.exports=JSON.parse('{"url":"https://www.themealdb.com/api/json/v1/1/random.php","noImage":"https://via.placeholder.com/320x240.png?text=No+Image"}')},34:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),i=a(20),s=a.n(i),o=(a(33),a(34),a(6)),l=a(2),u=a(3),d=a(11),j=a.n(d),h=a(19),b=a(14);!function(e){e.GET_DISH="get/dish",e.ADD_TO_FAVOURITE="add/to/favourite",e.ADD_CUSTOM_DISH="add/custom/dish",e.TOGGLE_MODAL="tuggle/modal",e.LOADING="loading",e.ERROR="error"}(n||(n={}));var p=function(){return function(){var e=Object(h.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({type:n.LOADING,payload:!0});case 2:return e.next=4,fetch(b.url).then((function(e){return e.json()})).then((function(e){return t({type:n.GET_DISH,payload:e.meals})})).catch((function(e){return t({type:n.ERROR,payload:e})})).finally((function(){return t({type:n.LOADING,payload:!1})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},m=function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:n.ADD_TO_FAVOURITE,payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:n.TOGGLE_MODAL,payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},f=a(10),x=a.n(f),v=a(1),_=function(){var e=Object(u.b)();return Object(v.jsx)("button",{onClick:function(){e(O(!0))},className:x.a.navbarBtn,children:"Add custom dish"})},g={home:"/dish/",favourite:"/favourite"},D=function(){var e=Object(l.e)();return Object(v.jsx)("nav",{children:Object(v.jsxs)("div",{className:x.a.wrapNavbar,children:[Object(v.jsxs)("ul",{className:x.a.wrapLinkBtn,children:[Object(v.jsx)("li",{className:x.a.navbarLinkBox,children:Object(v.jsx)(o.c,{className:x.a.navbarLink,to:g.home,children:"Random dish"})}),Object(v.jsx)("li",{className:x.a.navbarLinkBox,children:Object(v.jsx)(o.c,{className:x.a.navbarLink,to:g.favourite,children:"Favourites"})})]}),e.pathname!==g.home&&Object(v.jsx)(_,{})]})})},w=a(9),N=a.n(w),y=function(){var e=Object(r.useRef)(null),t=Object(r.useRef)(null);return Object(v.jsxs)("nav",{className:N.a.wrapNavigation,children:[Object(v.jsx)("button",{className:N.a.menuBtn,type:"button",ref:t,onClick:function(){e.current.style.left="0",t.current.style.opacity="0"},children:Object(v.jsx)("span",{className:N.a.burgerBtnIcon})}),Object(v.jsxs)("ul",{ref:e,className:N.a.wrapMenu,children:[Object(v.jsx)("li",{children:Object(v.jsx)("button",{className:N.a.burgerMenuCloseBtn,onClick:function(){e.current.style.left="-300px",t.current.style.opacity="100"},type:"button",children:Object(v.jsx)("svg",{width:"32",height:"32",children:Object(v.jsx)("g",{children:Object(v.jsx)("path",{d:"m2,8l6,-6l8,8l8,-8l6,6l-8,8l8,8l-6,6l-8,-8l-8,8l-6,-6l8,-8l-8,-8z",id:"path1",strokeWidth:"2px",stroke:"#333333",fillRule:"evenodd",fill:"#777777",opacity:"0.75"})})})})}),Object(v.jsx)("li",{className:N.a.burgerMenuItems,children:Object(v.jsx)(o.c,{className:N.a.navbarLink,to:g.home,children:"Random dish"})}),Object(v.jsx)("li",{className:N.a.burgerMenuItems,children:Object(v.jsx)(o.c,{className:N.a.navbarLink,to:g.favourite,children:"Favourites"})})]})]})},I=a(5),M=function(){var e=c.a.useState({width:window.innerWidth,height:window.innerHeight}),t=Object(I.a)(e,2),a=t[0],n=t[1],r=function(){n({width:window.innerWidth,height:window.innerHeight})};return c.a.useEffect((function(){return window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[]),a},k=function(){var e=M().width;return Object(v.jsx)("header",{children:e>762?Object(v.jsx)(D,{}):Object(v.jsx)(y,{})})},B=u.c,C=a(7),T=a.n(C),L=function(){var e=B((function(e){return e.dish})),t=e.data,a=e.listFavouriteDish,n=Object(u.b)();return Object(v.jsxs)("div",{className:T.a.wrapCardBtn,children:[Object(v.jsx)("button",{onClick:function(){n(p())},className:T.a.cardBtn,children:"Skip"}),Object(v.jsx)("button",{onClick:function(){!a.includes(t[0])&&n(m(t[0]))},className:T.a.cardBtn,children:"Like"})]})},F=function(e){var t=e.imgLink,a=e.title,n=e.instructions,r=Object(l.e)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:T.a.wrapCard,children:[Object(v.jsxs)("ul",{className:T.a.cardBody,children:[Object(v.jsx)("li",{className:T.a.cardImg,children:Object(v.jsx)("img",{className:T.a.cardImg,src:0===t.length?b.noImage:t,alt:t})}),Object(v.jsx)("li",{className:T.a.cardTitle,children:a}),Object(v.jsx)("li",{className:T.a.cardInstructions,children:n})]}),r.pathname===g.home&&Object(v.jsx)(L,{})]})})},E=a(18),A=function(e){localStorage.setItem("favouriteDish",JSON.stringify(e))},R=function(e,t){JSON.parse(localStorage.getItem("favouriteDish")||"[]").map((function(a){return t.includes(a)||0===t.length&&e(m(a))}))},S=a(12),G=a.n(S),H=function(){var e=B((function(e){return e.dish})).listFavouriteDish,t=Object(r.useState)(""),a=Object(I.a)(t,2),c=a[0],i=a[1],s=Object(r.useState)(""),o=Object(I.a)(s,2),l=o[0],d=o[1],p=Object(r.useRef)(null),m=Object(r.useRef)(null),f=Object(u.b)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)("div",{className:G.a.backdrop,children:Object(v.jsx)("div",{className:G.a.wrapModal,children:Object(v.jsx)("form",{className:G.a.modal,children:Object(v.jsxs)("label",{className:G.a.title,children:["Add custom dish",Object(v.jsxs)("div",{className:G.a.wrapInput,children:[Object(v.jsx)("input",{ref:p,className:G.a.inputDishTitle,type:"text",placeholder:"Dish title",onChange:function(){i(p.current.value)}}),Object(v.jsx)("textarea",{ref:m,className:G.a.inputDescription,placeholder:"Dish description...",onChange:function(){d(m.current.value)}}),Object(v.jsx)("button",{onClick:function(){var t={idMeal:Date.now(),strMealThumb:b.noImage,strMeal:c,strInstructions:l};f(function(e){return function(){var t=Object(h.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a({type:n.ADD_CUSTOM_DISH,payload:e});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),f(O(!1)),A([].concat(Object(E.a)(e),[t]))},className:G.a.addBtn,type:"button",children:"Add custom dish"})]})]})})})})})},U=function(){var e=B((function(e){return e.dish})),t=e.listFavouriteDish,a=e.modal,n=Object(u.b)(),c=M().width;return Object(r.useEffect)((function(){R(n,t)}),[n,t]),Object(v.jsxs)("div",{className:"justify-content-center",children:[Object(v.jsxs)("div",{className:"mt-5 d-flex flex-wrap p-2",children:[0!==t.length&&t.map((function(e){return Object(v.jsx)(F,{imgLink:e.strMealThumb,title:e.strMeal,instructions:e.strInstructions},e.idMeal)})),c<762&&Object(v.jsx)("div",{className:"fixed-bottom bg-light wrapNavbarBtn",children:Object(v.jsx)(_,{})})]}),a&&Object(v.jsx)(H,{})]})},Q=a(45),J=function(){var e=B((function(e){return e.dish})),t=e.data,a=e.listFavouriteDish,n=e.loading,c=Object(u.b)();return Object(r.useEffect)((function(){0===t.length&&c(p())}),[c,t.length]),Object(r.useEffect)((function(){R(c,a)}),[c,a]),Object(r.useEffect)((function(){A(a)}),[a]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:"d-flex justify-content-center flex-column align-items-center vh-100",children:[n&&Object(v.jsx)("div",{className:"Width 100% d-flex justify-content-center",children:Object(v.jsx)(Q.a,{animation:"grow",variant:"secondary"})}),0!==t.length&&Object(v.jsx)(F,{imgLink:t[0].strMealThumb,title:t[0].strMeal,instructions:t[0].strInstructions})]})})},V=function(){return Object(v.jsxs)("div",{className:"nopage",children:[Object(v.jsx)("h1",{className:"text404",children:"404"}),Object(v.jsx)("p",{children:Object(v.jsx)(o.b,{to:{pathname:"".concat(g.home)},children:"HOME"})})]})},W=function(){return Object(v.jsxs)(o.a,{children:[Object(v.jsx)(k,{}),Object(v.jsxs)(l.c,{children:[Object(v.jsx)(l.a,{path:g.home,element:Object(v.jsx)(J,{})}),Object(v.jsx)(l.a,{path:g.favourite,element:Object(v.jsx)(U,{})}),Object(v.jsx)(l.a,{path:"*",element:Object(v.jsx)(V,{})})]})]})},z=a(17),P={data:[],listFavouriteDish:[],modal:!1,loading:!1,error:null},q=a(28),K=a(27),Z=Object(z.combineReducers)({dish:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.GET_DISH:return{data:t.payload,listFavouriteDish:e.listFavouriteDish,modal:e.modal,loading:e.loading,error:e.error};case n.ADD_TO_FAVOURITE:case n.ADD_CUSTOM_DISH:return{data:e.data,listFavouriteDish:[].concat(Object(E.a)(e.listFavouriteDish),[t.payload]),modal:e.modal,loading:e.loading,error:e.error};case n.TOGGLE_MODAL:return{data:e.data,listFavouriteDish:e.listFavouriteDish,modal:t.payload,loading:e.loading,error:e.error};case n.LOADING:return{data:e.data,listFavouriteDish:e.listFavouriteDish,modal:e.modal,loading:t.payload,error:e.error};case n.ERROR:return{data:e.data,listFavouriteDish:e.listFavouriteDish,modal:e.modal,loading:e.loading,error:t.payload};default:return e}}}),X=Object(z.createStore)(Z,Object(K.composeWithDevTools)(Object(z.applyMiddleware)(q.a)));s.a.render(Object(v.jsx)(u.a,{store:X,children:Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(W,{})})}),document.getElementById("root"))},7:function(e,t,a){e.exports={wrapCard:"DishCard_wrapCard__1siQ2",cardBody:"DishCard_cardBody__1vlTD",cardImg:"DishCard_cardImg__2028o",cardTitle:"DishCard_cardTitle__2To6f",cardInstructions:"DishCard_cardInstructions__P5tCz",wrapCardBtn:"DishCard_wrapCardBtn__QQFyy",cardBtn:"DishCard_cardBtn__os8xQ"}},9:function(e,t,a){e.exports={wrapNavigation:"Hamburger_wrapNavigation__2jK3c",wrapMenu:"Hamburger_wrapMenu__1T5fQ",menuBtn:"Hamburger_menuBtn__8EMQO",burgerBtnIcon:"Hamburger_burgerBtnIcon__dt7y7",burgerMenuCloseBtn:"Hamburger_burgerMenuCloseBtn__2BCA0",burgerMenuItems:"Hamburger_burgerMenuItems__16218"}}},[[43,1,2]]]);
//# sourceMappingURL=main.f026aa9f.chunk.js.map